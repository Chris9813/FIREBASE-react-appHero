(this["webpackJsonpheroes-app"]=this["webpackJsonpheroes-app"]||[]).push([[0],{83:function(e,t,n){},84:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n(27),s=n.n(a),i=n(7),r=n(19),l="[auth] login",o="[auth] logout",j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return{uid:t.payload.uid,name:t.payload.displayname};case o:return{};default:return e}},b=n(11),d=n.n(b),m=n(17),u=n(18),h=n(6),p=n(15),O=n(41),x=n.n(O),f=n(23);n(85),n(65);f.a.initializeApp({apiKey:"AIzaSyDzcHY_AXxR2SZoCd_m4VIwpU_vFSwo8Kk",authDomain:"heroes-app-e6f10.firebaseapp.com",projectId:"heroes-app-e6f10",storageBucket:"heroes-app-e6f10.appspot.com",messagingSenderId:"1009564139767",appId:"1:1009564139767:web:7a090adca28a36038153f2"});f.a.firestore();var g=new f.a.auth.GoogleAuthProvider,v=function(e,t){return{type:l,payload:{uid:e,displayname:t}}},N=function(){return{type:o}},y=n(16),w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(c.useState)(e),n=Object(i.a)(t,2),a=n[0],s=n[1],r=function(){s(e)},l=function(e){var t=e.target;s(Object(y.a)(Object(y.a)({},a),{},Object(p.a)({},t.name,t.value)))};return[a,l,r]},C=n(1),S=function(){var e,t,n=Object(r.b)(),c=w({email:"invitado@invitado.com",password:"123456"}),a=Object(i.a)(c,2),s=a[0],l=a[1],o=s.email,j=s.password,b=function(e){e.preventDefault(),console.log("hola"),n(function(e,t){return function(n){return f.a.auth().signInWithEmailAndPassword(e,t).then((function(e){var t=e.user;console.log(t),n(v(t.uid,t.displayName))})).catch((function(e){console.log(e),x.a.fire("Error",e.message,"error")}))}}(o,j))};return Object(C.jsx)("section",{className:"login-block",children:Object(C.jsx)("div",{className:"container-fluid",children:Object(C.jsx)("div",{className:"row ",children:Object(C.jsx)("div",{className:"col-sm-12",children:Object(C.jsx)("form",{className:"md-float-material form-material",action:"#",method:"POST",onSubmit:b,children:Object(C.jsx)("div",{className:"auth-box card",children:Object(C.jsxs)("div",{className:"card-block",children:[Object(C.jsx)("div",{className:"row",children:Object(C.jsx)("div",{className:"col-md-12",children:Object(C.jsx)("h3",{className:"text-center heading",children:"Welcome to the Heroes Web!!"})})}),Object(C.jsx)("div",{className:"form-group form-primary",children:Object(C.jsx)("input",(e={value:o,name:"email",onChange:l,type:"text",className:"form-control"},Object(p.a)(e,"name","email"),Object(p.a)(e,"placeholder","Email"),Object(p.a)(e,"id","email"),e))}),Object(C.jsx)("div",{className:"form-group form-primary",children:Object(C.jsx)("input",(t={value:j,name:"password",onChange:l,type:"password",className:"form-control"},Object(p.a)(t,"name","password"),Object(p.a)(t,"placeholder","Password"),Object(p.a)(t,"id","password"),t))}),Object(C.jsx)("div",{className:"d-grid gap-2 col-6 mx-auto",children:Object(C.jsx)("button",{className:"btn btn-primary",type:"button",onClick:b,children:"Signup Now"})}),Object(C.jsx)("p",{className:"p-login my-4 align-content-sm-center",children:"Tambien puedes entrar como invitado"}),Object(C.jsxs)("div",{className:"or-container",children:[Object(C.jsx)("div",{className:"line-separator"}),Object(C.jsx)("div",{className:"or-label",children:"or"}),Object(C.jsx)("div",{className:"line-separator"})]}),Object(C.jsx)("div",{className:"d-grid gap-2",onClick:function(){n((function(e){f.a.auth().signInWithPopup(g).then((function(e){console.log(e)}))}))},children:Object(C.jsxs)("button",{className:"btn btn-primary",type:"button",children:[Object(C.jsx)("img",{src:"https://img.icons8.com/color/16/000000/google-logo.png",alt:"btn"}),"Signup Using Google"]})}),Object(C.jsx)("br",{})]})})})})})})})},k='\n{\n    allPeople(after: "") {\n      people {\n        name\n        gender\n        eyeColor\n        height\n        mass\n        birthYear\n        skinColor\n        species {\n          name\n        }\n        homeworld {\n          name\n        }\n        filmConnection {\n          films {\n            title\n            director\n            planetConnection {\n              planets {\n                name\n              }\n            }\n          }\n        }\n        starshipConnection {\n          starships {\n            name\n          }\n        }\n        vehicleConnection {\n          vehicles {\n            name\n            model\n            vehicleClass\n            manufacturers\n            costInCredits\n            length\n            crew\n          }\n        }\n      }\n    }\n  }\n',E=function(e){var t=e.data;return Object(C.jsx)(C.Fragment,{children:t.map((function(e,t){return Object(C.jsx)("div",{children:Object(C.jsx)("div",{className:"card align-content-center my-3",children:Object(C.jsxs)("div",{className:"card-body",children:[Object(C.jsx)("h5",{className:"card-title",children:e.name},e.name),Object(C.jsx)("h6",{className:"card-subtitle mb-2 text-muted",children:"Caracteristicas"}),Object(C.jsxs)("ul",{className:"list-group",children:[Object(C.jsxs)("li",{className:"list-group-item",children:["Color de ojos: ",e.eyeColor]},e.color),Object(C.jsxs)("li",{className:"list-group-item",children:["Genero: ",e.gender]},e.gender),Object(C.jsxs)("li",{className:"list-group-item",children:["Altura: ",e.height," cm"]},e.height)]}),Object(C.jsx)(u.b,{to:"./personaje/".concat(e.name),children:"Mas..."})]})},t)})}))})},I=function(){var e=Object(c.useState)(0),t=Object(i.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(8),r=Object(i.a)(s,2),l=r[0],o=r[1],j=Object(c.useState)([]),b=Object(i.a)(j,2),u=b[0],h=b[1],p=function(){var e=Object(m.a)(d.a.mark((function e(){var t,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://swapi-graphql.netlify.app/.netlify/functions/index",e.next=3,fetch("https://swapi-graphql.netlify.app/.netlify/functions/index",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({query:k})});case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,c=n.data,h(c.allPeople.people);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){p()}),[]);return console.log(u.slice(n,l)),Object(C.jsxs)("div",{className:"container",children:[Object(C.jsx)("button",{className:"btn btn-info my-3 mx-5 col-4",onClick:function(){0!==n&&(a(n-8),o(l-8))},children:"Anterior"}),Object(C.jsx)("button",{className:"btn btn-info my-3 mx-5 col-4",onClick:function(){l>=u.length||(a(n+8),o(l+8))},children:"Siguiente"}),Object(C.jsx)("div",{className:"row row-cols-4 d-flex justify-content-center cards animate__animated animate__backInDown",children:Object(C.jsx)(E,{data:u.slice(n,l)})})]})},A=function(){return Object(C.jsxs)("div",{children:[Object(C.jsx)("h1",{children:"TODOS LOS PERSONAJES"}),Object(C.jsx)("hr",{}),Object(C.jsx)("div",{className:"container",children:Object(C.jsx)(I,{})})]})},P=function(e){e.history;var t=Object(c.useState)(!0),n=Object(i.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)(!1),l=Object(i.a)(r,2),o=l[0],j=l[1],b=Object(c.useState)(!1),u=Object(i.a)(b,2),p=u[0],O=u[1],x=Object(c.useState)(!1),f=Object(i.a)(x,2),g=f[0],v=f[1],N=Object(h.h)().heroeId,y=Object(c.useState)([]),w=Object(i.a)(y,2),S=w[0],E=w[1],I=function(){var e=Object(m.a)(d.a.mark((function e(){var t,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://swapi-graphql.netlify.app/.netlify/functions/index",e.next=3,fetch("https://swapi-graphql.netlify.app/.netlify/functions/index",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({query:k})});case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,c=n.data,E(c.allPeople.people);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){I()}),[]);var A=S.filter((function(e){return e.name===N}));if(!A)return Object(C.jsx)(h.a,{to:"/"});return A.map((function(e){return console.log(e)})),Object(C.jsxs)("div",{className:"container my-4",children:[Object(C.jsx)("button",{onClick:function(){return s(!a)},className:a?"btn btn-primary mx-4 my-2":"btn btn-danger mx-4 my-2",type:"submit",children:"Caracteristicas"}),Object(C.jsx)("button",{onClick:function(){return j(!o)},className:o?"btn btn-primary mx-4 my-2":"btn btn-danger mx-4 my-2",type:"submit",children:"Peliculas"}),Object(C.jsx)("button",{onClick:function(){return O(!p)},className:p?"btn btn-primary mx-4 my-2":"btn btn-danger mx-4 my-2",type:"submit",children:"Batallas"}),Object(C.jsx)("button",{onClick:function(){return v(!g)},className:g?"btn btn-primary mx-4 my-2":"btn btn-danger mx-4 my-2",type:"submit",children:"vehiculos"}),Object(C.jsx)("div",{className:"d-flex justify-content-center row-cols-2",children:A.map((function(e,t){return Object(C.jsx)("div",{className:"",children:Object(C.jsxs)("ul",{className:"list-group list-grup-flush ",children:[a&&Object(C.jsxs)("div",{className:"",children:[Object(C.jsx)("h5",{className:"mt-3",children:"Caracteristicas"}),Object(C.jsxs)("li",{className:"list-group-item",children:[" ",Object(C.jsx)("b",{children:"Nombre: "}),e.name," "]},e.names),Object(C.jsxs)("li",{className:"list-group-item",children:[" ",Object(C.jsx)("b",{children:"Genero: "}),e.gender," "]},e.gender),Object(C.jsxs)("li",{className:"list-group-item",children:[" ",Object(C.jsx)("b",{children:"Altura: "}),e.height," cm "]},e.height),Object(C.jsxs)("li",{className:"list-group-item",children:[" ",Object(C.jsx)("b",{children:"Color de ojos: "}),e.eyeColor," "]},e.eyeColor),Object(C.jsxs)("li",{className:"list-group-item",children:[" ",Object(C.jsx)("b",{children:"Masa: "}),e.mass," Kg "]},e.mass),Object(C.jsxs)("li",{className:"list-group-item",children:[" ",Object(C.jsx)("b",{children:"Color de pelo: "}),e.skinColor," "]},e.skinColor),Object(C.jsxs)("li",{className:"list-group-item",children:[" ",Object(C.jsx)("b",{children:"Planeta nativo: "}),!!e.homeworld&&e.homeworld.name," "]},e.homeworld),Object(C.jsxs)("li",{className:"list-group-item",children:[" ",Object(C.jsx)("b",{children:"Especie: "}),null!==e.species?e.species.name:"Humano"," "]},e.species)]}),o&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("h4",{className:"mt-3",children:"Peliculas"},"Peliculas"),e.filmConnection.films.map((function(e,t){return Object(C.jsxs)("div",{children:[Object(C.jsxs)("h5",{className:"mt-4",children:["Pelicula ",t+1,": ",e.title]},e.title),Object(C.jsxs)("h6",{children:["Director: ",e.director]},e.director),Object(C.jsx)("h6",{children:"Planetas que aparecen:"}),e.planetConnection.planets.map((function(e,t){return Object(C.jsx)("ul",{children:Object(C.jsx)("li",{children:e.name},e.name)},t)}))]},t)}))]}),p&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("h5",{className:"mt-3",children:"Batallas"}),e.starshipConnection.starships.length>0?e.starshipConnection.starships.map((function(e,t){return Object(C.jsxs)("li",{className:"list-group-item",children:[" ",Object(C.jsxs)("b",{children:["Batalla ",t+1," : "]}),e.name," "]},t)})):Object(C.jsx)("li",{className:"list-group-item",children:" Este personaje no ha luchado en ninguna batalla"},t+2)]}),g&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("h5",{className:"mt-3",children:"Vehiculos"}),e.vehicleConnection.vehicles.length>0?e.vehicleConnection.vehicles.map((function(e,t){return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("h6",{className:"mt-4 mb-3",children:[" ",Object(C.jsxs)("b",{children:["Vehiculo ",t+1," "]})]},t),Object(C.jsxs)("ul",{className:"list-group",children:[Object(C.jsxs)("li",{className:"list-group-item",children:[" ",Object(C.jsx)("b",{children:"Nombre:"}),"  ",e.name," "]},e.name),Object(C.jsxs)("li",{className:"list-group-item",children:[" ",Object(C.jsx)("b",{children:"Modelo:"}),"  ",e.model," "]},e.model),Object(C.jsxs)("li",{className:"list-group-item",children:[" ",Object(C.jsx)("b",{children:"Longitud:"}),"  ",e.length," metros "]},e.length),Object(C.jsxs)("li",{className:"list-group-item",children:[" ",Object(C.jsx)("b",{children:"Clase de vehiculo:"}),"  ",e.vehicleClass," "]},e.vehicleClass),Object(C.jsxs)("li",{className:"list-group-item",children:[" ",Object(C.jsx)("b",{children:"Tripulacion:"}),"  ",e.crew," ",e.crew>1?"personas":"persona"," "]},e.crew+t)]})]})})):Object(C.jsx)("li",{className:"list-group-item",children:" Este personaje no tiene vehiculos"},t+2)]})]})},t)}))})]})},_=n(43),q=n.n(_),T=function(e){var t=e.history,n=Object(h.g)(),a=q.a.parse(n.search).q,s=void 0===a?"":a,r=w({name:s}),l=Object(i.a)(r,2),o=l[0],j=l[1],b=o.name,u=Object(c.useState)([]),p=Object(i.a)(u,2),O=p[0],x=p[1],f=function(){var e=Object(m.a)(d.a.mark((function e(){var t,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://swapi-graphql.netlify.app/.netlify/functions/index",e.next=3,fetch("https://swapi-graphql.netlify.app/.netlify/functions/index",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({query:k})});case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,c=n.data,x(c.allPeople.people);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){f()}),[]);var g=O.filter((function(e){return e.name.toLocaleLowerCase().includes(b)})),v=function(e){e.preventDefault(),t.push("?q=".concat(b))};return Object(C.jsxs)("div",{className:"container",children:[Object(C.jsx)("h1",{children:"Search Screen"}),Object(C.jsx)("hr",{}),Object(C.jsxs)("div",{className:"row",children:[Object(C.jsx)("div",{className:"col-5",children:Object(C.jsxs)("form",{onSubmit:v,children:[Object(C.jsx)("input",{type:"text",placeholder:"Find your hero",className:"form-control",onChange:j,name:"name",value:b,autoComplete:"off"}),Object(C.jsx)("button",{onClick:v,className:"btn m-1 btn-block btn-outline-primary",children:"Search..."})]})}),Object(C.jsxs)("div",{className:"col-7",children:[Object(C.jsx)("h4",{children:"Results"}),Object(C.jsx)("hr",{}),""===s&&Object(C.jsx)("div",{id:"infoIni",className:"alert alert-info",children:"search a hero"}),""!==s&&0===g.length&&Object(C.jsxs)("div",{className:"alert alert-warning",children:["There is no a hero ",s,", search anoter thing"]}),Object(C.jsx)("div",{children:Object(C.jsx)(E,{data:g})})]})]})]})},D=function(){var e=Object(c.useState)("dark"===localStorage.getItem("theme")),t=Object(i.a)(e,2),n=t[0],a=t[1];Object(c.useEffect)((function(){document.getElementsByTagName("HTML")[0].setAttribute("data-theme",localStorage.getItem("theme"))}),[!n]);return Object(C.jsx)("div",{children:Object(C.jsx)("header",{children:Object(C.jsx)("div",{className:"form-check form-switch",children:Object(C.jsx)("input",{className:"mt-3 form-check-input",type:"checkbox",role:"switch",id:"flexSwitchCheckDefault",defaultChecked:n,onChange:function(){!1===n?(localStorage.setItem("theme","dark"),a(!0)):(localStorage.setItem("theme","light"),a(!1))}})})})})},F=function(){var e=Object(r.b)(),t=Object(r.c)((function(e){return e.auth})).name;return Object(C.jsxs)("nav",{className:"navbar navbar-expand-sm navbar-dark bg-dark",children:[Object(C.jsx)(u.b,{className:"navbar-brand mx-3",to:"/",children:"StarWars"}),Object(C.jsx)("div",{className:"navbar-collapse",children:Object(C.jsxs)("div",{className:"navbar-nav",children:[Object(C.jsx)(u.c,{className:"nav-item nav-link",exact:!0,to:"/personajes",children:"Personajes"}),Object(C.jsx)(u.c,{className:"nav-item nav-link",exact:!0,to:"/search",children:"Buscar"})]})}),Object(C.jsx)("div",{className:"navbar-collapse collapse w-100 order-3 dual-collapse2",children:Object(C.jsxs)("ul",{className:"navbar-nav ms-auto",children:[Object(C.jsx)(D,{}),Object(C.jsx)("span",{className:"nav-item nav-link text-info align-self-end",children:t})]})}),Object(C.jsx)("div",{className:"navbar-collapse collapse w-200 order-3 dual-collapse2",children:Object(C.jsx)("ul",{className:"navbar-nav ms-auto",children:Object(C.jsx)("button",{className:"nav-item nav-link btn",onClick:function(){e(function(){var e=Object(m.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.auth().signOut();case 2:t(N());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:"Logout"})})})]})},J=function(){return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(F,{}),Object(C.jsx)("div",{className:"container mt-3",children:Object(C.jsxs)(h.d,{children:[Object(C.jsx)(h.b,{exact:!0,path:"/personaje/:heroeId",component:P}),Object(C.jsx)(h.b,{exact:!0,path:"/personajes",component:A}),Object(C.jsx)(h.b,{exact:!0,path:"/search",component:T}),Object(C.jsx)(h.a,{to:"/personajes"})]})})]})},B=n(30),L=["isAuthenticated","component"],W=function(e){var t=e.isAuthenticated,n=e.component,c=Object(B.a)(e,L);return localStorage.setItem("lastPath",c.location.pathname),Object(C.jsx)("div",{children:Object(C.jsx)(h.b,Object(y.a)(Object(y.a)({},c),{},{component:function(e){return t?Object(C.jsx)(n,Object(y.a)({},e)):Object(C.jsx)(h.a,{to:"/login"})}}))})},M=["isAuthenticated","component"],R=function(e){var t=e.isAuthenticated,n=e.component,c=Object(B.a)(e,M);return Object(C.jsx)("div",{children:Object(C.jsx)(h.b,Object(y.a)(Object(y.a)({},c),{},{component:function(e){return t?Object(C.jsx)(h.a,{to:"/"}):Object(C.jsx)(n,Object(y.a)({},e))}}))})},G=function(){var e=Object(r.b)(),t=Object(c.useState)(!0),n=Object(i.a)(t,2),a=n[0],s=n[1],l=Object(c.useState)(!1),o=Object(i.a)(l,2),j=o[0],b=o[1];return Object(c.useEffect)((function(){f.a.auth().onAuthStateChanged(function(){var t=Object(m.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(null===n||void 0===n?void 0:n.uid)?(e(v(n.uid,n.displayName)),b(!0)):b(!1),s(!1);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}),[e,s,b]),a?Object(C.jsx)("h1",{children:"Wait..."}):Object(C.jsx)("div",{children:Object(C.jsx)(u.a,{children:Object(C.jsx)("div",{children:Object(C.jsx)("div",{children:Object(C.jsxs)(h.d,{children:[Object(C.jsx)(R,{exact:!0,path:"/login",component:S,isAuthenticated:j}),Object(C.jsx)(W,{path:"/",component:J,isAuthenticated:j})]})})})})})},H=n(44),V=n(24),z="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||V.c,K=Object(V.b)({auth:j}),U=Object(V.d)(K,z(Object(V.a)(H.a))),X=(n(83),function(){var e=Object(c.useReducer)(j,{},(function(){return JSON.parse(localStorage.getItem("user"))||{logged:!1}})),t=Object(i.a)(e,1)[0];return Object(c.useEffect)((function(){localStorage.setItem("user",JSON.stringify(t))}),[t]),Object(C.jsx)("div",{children:Object(C.jsx)(r.a,{store:U,children:Object(C.jsx)(G,{})})})});s.a.render(Object(C.jsx)(X,{}),document.getElementById("root"))}},[[84,1,2]]]);
//# sourceMappingURL=main.2ae3c459.chunk.js.map