(this["webpackJsonpheroes-app"]=this["webpackJsonpheroes-app"]||[]).push([[0],{83:function(e,t,n){},84:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n(27),s=n.n(a),i=n(7),r=n(17),l="[auth] login",o="[auth] logout",j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return{uid:t.payload.uid,name:t.payload.displayname};case o:return{};default:return e}},b=n(18),d=n.n(b),m=n(21),h=n(16),u=n(6),O=n(15),p=n(41),x=n.n(p),f=n(23);n(85),n(65);f.a.initializeApp({apiKey:"AIzaSyDzcHY_AXxR2SZoCd_m4VIwpU_vFSwo8Kk",authDomain:"heroes-app-e6f10.firebaseapp.com",projectId:"heroes-app-e6f10",storageBucket:"heroes-app-e6f10.appspot.com",messagingSenderId:"1009564139767",appId:"1:1009564139767:web:7a090adca28a36038153f2"});f.a.firestore();var g=new f.a.auth.GoogleAuthProvider,v=function(e,t){return{type:l,payload:{uid:e,displayname:t}}},N=function(){return{type:o}},y=n(11),C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(c.useState)(e),n=Object(i.a)(t,2),a=n[0],s=n[1],r=function(){s(e)},l=function(e){var t=e.target;s(Object(y.a)(Object(y.a)({},a),{},Object(O.a)({},t.name,t.value)))};return[a,l,r]},w=n(1),k=function(){var e,t,n=Object(r.b)(),c=C({email:"invitado@invitado.com",password:"123456"}),a=Object(i.a)(c,2),s=a[0],l=a[1],o=s.email,j=s.password,b=function(e){e.preventDefault(),console.log("hola"),n(function(e,t){return function(n){return f.a.auth().signInWithEmailAndPassword(e,t).then((function(e){var t=e.user;console.log(t),n(v(t.uid,t.displayName))})).catch((function(e){console.log(e),x.a.fire("Error",e.message,"error")}))}}(o,j))};return Object(w.jsx)("section",{className:"login-block",children:Object(w.jsx)("div",{className:"container-fluid",children:Object(w.jsx)("div",{className:"row ",children:Object(w.jsx)("div",{className:"col-sm-12",children:Object(w.jsx)("form",{className:"md-float-material form-material",action:"#",method:"POST",onSubmit:b,children:Object(w.jsx)("div",{className:"auth-box card",children:Object(w.jsxs)("div",{className:"card-block",children:[Object(w.jsx)("div",{className:"row",children:Object(w.jsx)("div",{className:"col-md-12",children:Object(w.jsx)("h3",{className:"text-center heading",children:"Welcome to the Heroes Web!!"})})}),Object(w.jsx)("div",{className:"form-group form-primary",children:Object(w.jsx)("input",(e={value:o,name:"email",onChange:l,type:"text",className:"form-control"},Object(O.a)(e,"name","email"),Object(O.a)(e,"placeholder","Email"),Object(O.a)(e,"id","email"),e))}),Object(w.jsx)("div",{className:"form-group form-primary",children:Object(w.jsx)("input",(t={value:j,name:"password",onChange:l,type:"password",className:"form-control"},Object(O.a)(t,"name","password"),Object(O.a)(t,"placeholder","Password"),Object(O.a)(t,"id","password"),t))}),Object(w.jsx)("div",{className:"d-grid gap-2 col-6 mx-auto",children:Object(w.jsx)("button",{className:"btn btn-primary",type:"button",onClick:b,children:"Signup Now"})}),Object(w.jsx)("p",{className:"p-login my-4 align-content-sm-center",children:"Tambien puedes entrar como invitado"}),Object(w.jsxs)("div",{className:"or-container",children:[Object(w.jsx)("div",{className:"line-separator"}),Object(w.jsx)("div",{className:"or-label",children:"or"}),Object(w.jsx)("div",{className:"line-separator"})]}),Object(w.jsx)("div",{className:"d-grid gap-2",onClick:function(){n((function(e){f.a.auth().signInWithPopup(g).then((function(e){console.log(e)}))}))},children:Object(w.jsxs)("button",{className:"btn btn-primary",type:"button",children:[Object(w.jsx)("img",{src:"https://img.icons8.com/color/16/000000/google-logo.png",alt:"btn"}),"Signup Using Google"]})}),Object(w.jsx)("br",{})]})})})})})})})},S=function(){var e=function(){var e=Object(m.a)(d.a.mark((function e(){var t,n,c,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://swapi-graphql.netlify.app/.netlify/functions/index",e.next=3,fetch("https://swapi-graphql.netlify.app/.netlify/functions/index",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({query:'\n    {\n        allPeople(after: "") {\n          people {\n            name\n            gender\n            eyeColor\n            height\n            mass\n            birthYear\n            skinColor\n            species {\n              name\n            }\n            homeworld {\n              name\n            }\n            filmConnection {\n              films {\n                title\n                director\n                planetConnection {\n                  planets {\n                    name\n                  }\n                }\n              }\n            }\n            starshipConnection {\n              starships {\n                name\n              }\n            }\n            vehicleConnection {\n              vehicles {\n                name\n                model\n                vehicleClass\n                manufacturers\n                costInCredits\n                length\n                crew\n              }\n            }\n          }\n        }\n      }\n    '})});case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,c=n.data,a=c.allPeople.people.map((function(e){return{name:e.name,gender:e.gender,eyeColor:e.eyeColor,height:e.height,birthYear:e.birthYear,mass:e.mass,skinColor:e.skinColor,vehicle:null===e||void 0===e?void 0:e.vehicleConnection.vehicles,homeworld:null===e||void 0===e?void 0:e.homeworld.name,films:null===e||void 0===e?void 0:e.filmConnection.films,starships:null===e||void 0===e?void 0:e.starshipConnection.starships}})),e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=Object(c.useState)({data:[],loading:!0}),n=Object(i.a)(t,2),a=n[0],s=n[1];return Object(c.useEffect)((function(){e().then((function(e){return s({data:e,loading:!1})})).catch((function(){s({data:[],loading:!1,error:"No se puedo cargagr la info, revisa el internet perra"})}))}),[a.loading]),a.data},I=function(e){var t=e.name,n=e.eyeColor,c=e.height,a=e.homeworld,s=e.gender;return Object(w.jsx)("div",{className:"card",children:Object(w.jsxs)("div",{className:"card-body",children:[Object(w.jsx)("h5",{className:"card-title",children:t}),Object(w.jsx)("h6",{className:"card-subtitle mb-2 text-muted",children:"Caracteristicas"}),Object(w.jsxs)("ul",{className:"list-group",children:[Object(w.jsxs)("li",{className:"list-group-item",children:["Color de ojos: ",n]}),Object(w.jsxs)("li",{className:"list-group-item",children:["Planeta hogar: ",a]}),Object(w.jsxs)("li",{className:"list-group-item",children:["Genero: ",s]}),Object(w.jsxs)("li",{className:"list-group-item",children:["Altura: ",c," cm"]})]}),Object(w.jsx)(h.b,{className:"link",to:"./personaje/".concat(t),children:"Mas..."})]})})},E=function(){var e=S(),t=Object(c.useState)(0),n=Object(i.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)(5),l=Object(i.a)(r,2),o=l[0],j=l[1];return Object(w.jsxs)("div",{className:"container",children:[Object(w.jsx)("button",{className:"btn btn-info my-3 mx-5 col-4",onClick:function(){0!==a&&(s(a-5),j(o-5))},children:"Anterior"}),Object(w.jsx)("button",{className:"btn btn-info my-3 mx-5 col-4",onClick:function(){o>=e.length||(s(a+5),j(o+5))},children:"Siguiente"}),Object(w.jsx)("div",{className:"row row-cols-3 animate__animated animate__backInDown",children:e.filter((function(e,t){return t>=a&&t<=o})).map((function(e,t){return Object(w.jsx)("div",{className:"col",children:Object(w.jsx)(I,Object(y.a)({},e),e.name)},t)}))})]})},A=function(){return Object(w.jsxs)("div",{children:[Object(w.jsx)("h1",{children:"TODOS LOS PERSONAJES"}),Object(w.jsx)("hr",{}),Object(w.jsx)("div",{className:"container",children:Object(w.jsx)(E,{})})]})},P=function(e){var t=e.history,n=Object(c.useState)(!0),a=Object(i.a)(n,2),s=a[0],r=a[1],l=Object(c.useState)(!1),o=Object(i.a)(l,2),j=o[0],b=o[1],d=Object(c.useState)(!1),m=Object(i.a)(d,2),h=m[0],O=m[1],p=Object(c.useState)(!1),x=Object(i.a)(p,2),f=x[0],g=x[1],v=Object(u.h)().heroeId,N=S().filter((function(e){return e.name===v}));if(!N)return Object(w.jsx)(u.a,{to:"/"});var y=N.map((function(e){return{names:e.name,gender:e.gender,films:e.films,starships:e.starships,eyeColor:e.eyeColor,height:e.height,homeworld:e.homeworld,birthYear:e.birthYear,mass:e.mass,skinColor:e.skinColor,vehicle:e.vehicle,species:e.species}}));return Object(w.jsxs)("div",{children:[Object(w.jsx)("div",{className:"row col-10"}),Object(w.jsxs)("div",{className:"row mt-2 mb-2",children:[Object(w.jsx)("div",{className:"col-2"}),Object(w.jsxs)("div",{className:"col-8",children:[Object(w.jsx)("button",{onClick:function(){return r(!s)},className:s?"btn btn-primary mx-4 my-2":"btn btn-danger mx-4 my-2",type:"submit",children:"Caracteristicas"}),Object(w.jsx)("button",{onClick:function(){return b(!j)},className:j?"btn btn-primary mx-4 my-2":"btn btn-danger mx-4 my-2",type:"submit",children:"Peliculas"}),Object(w.jsx)("button",{onClick:function(){return O(!h)},className:h?"btn btn-primary mx-4 my-2":"btn btn-danger mx-4 my-2",type:"submit",children:"Batallas"}),Object(w.jsx)("button",{onClick:function(){return g(!f)},className:f?"btn btn-primary mx-4 my-2":"btn btn-danger mx-4 my-2",type:"submit",children:"vehiculos"}),(y.length>0?[y[0]]:[]).map((function(e,t){return Object(w.jsx)("div",{className:"list-group list-grup-flush",children:Object(w.jsxs)("ul",{className:"list-group list-grup-flush",children:[s&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h5",{className:"mt-3",children:"Caracteristicas"}),Object(w.jsxs)("li",{className:"list-group-item",children:[" ",Object(w.jsx)("b",{children:"Nombre: "}),e.names," "]},e.names),Object(w.jsxs)("li",{className:"list-group-item",children:[" ",Object(w.jsx)("b",{children:"Genero: "}),e.gender," "]},e.gender),Object(w.jsxs)("li",{className:"list-group-item",children:[" ",Object(w.jsx)("b",{children:"Altura: "}),e.height," cm "]},e.height),Object(w.jsxs)("li",{className:"list-group-item",children:[" ",Object(w.jsx)("b",{children:"Color de ojos: "}),e.eyeColor," "]},e.eyeColor),Object(w.jsxs)("li",{className:"list-group-item",children:[" ",Object(w.jsx)("b",{children:"Planeta Nativo: "}),e.homeworld," "]},e.homeworld),Object(w.jsxs)("li",{className:"list-group-item",children:[" ",Object(w.jsx)("b",{children:"Masa: "}),e.mass," Kg "]},e.mass),Object(w.jsxs)("li",{className:"list-group-item",children:[" ",Object(w.jsx)("b",{children:"Color de pelo: "}),e.skinColor," "]},e.skinColor),Object(w.jsxs)("li",{className:"list-group-item",children:[" ",Object(w.jsx)("b",{children:"Especie: "}),e.species?e.species:"Humano"," "]},e.species)]}),j&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h4",{className:"mt-3",children:"Peliculas"},"Peliculas"),e.films.map((function(e,t){return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("h5",{className:"mt-4",children:["Pelicula ",t+1,": ",e.title]},t+1),Object(w.jsxs)("h6",{children:["Director: ",e.director]},e.director),Object(w.jsx)("h6",{children:"Planetas que aparecen:"},"planet"),e.planetConnection.planets.map((function(e,t){return Object(w.jsx)("ul",{children:Object(w.jsx)("li",{children:e.name},e.name)},t)}))]})}))]}),h&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h5",{className:"mt-3",children:"Batallas"}),e.starships.length>0?e.starships.map((function(e,t){return Object(w.jsxs)("li",{className:"list-group-item",children:[" ",Object(w.jsxs)("b",{children:["Batalla ",t+1," : "]}),e.name," "]},t)})):Object(w.jsx)("li",{className:"list-group-item",children:" Este personaje no ha luchado en ninguna batalla"},t+2)]}),f&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h5",{className:"mt-3",children:"Vehiculos"}),e.vehicle.length>0?e.vehicle.map((function(e,t){return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("h6",{className:"mt-4",children:[" ",Object(w.jsxs)("b",{children:["Vehiculo ",t+1," "]})]},t),Object(w.jsxs)("ul",{className:"list-group",children:[Object(w.jsxs)("li",{className:"list-group-item",children:[" ",Object(w.jsx)("b",{children:"Nombre:"}),"  ",e.name," "]},e.name),Object(w.jsxs)("li",{className:"list-group-item",children:[" ",Object(w.jsx)("b",{children:"Modelo:"}),"  ",e.model," "]},e.model),Object(w.jsxs)("li",{className:"list-group-item",children:[" ",Object(w.jsx)("b",{children:"Clase de vehiculo:"}),"  ",e.vehicleClass," "]},e.vehicleClass),Object(w.jsxs)("li",{className:"list-group-item",children:[" ",Object(w.jsx)("b",{children:"Tripulacion:"}),"  ",e.crew," ",e.crew>1?"personas":"persona"," "]},e.crew+t),Object(w.jsxs)("li",{className:"list-group-item",children:[" ",Object(w.jsx)("b",{children:"Longitud:"}),"  ",e.length," metros "]},e.length)]})]})})):Object(w.jsx)("li",{className:"list-group-item",children:" Este personaje no tiene vehiculos"},t+2)]})]},t)},"list")})),Object(w.jsx)("button",{className:"btn btn-outline-info mt-3",onClick:function(){t.length<=2?t.push("/"):t.goBack()},children:"Return"})]})]})]})},_=n(43),D=n.n(_),T=function(e){var t=e.history,n=Object(u.g)(),c=D.a.parse(n.search).q,a=void 0===c?"":c,s=C({name:a}),r=Object(i.a)(s,2),l=r[0],o=r[1],j=l.name,b=S().filter((function(e){return e.name.toLocaleLowerCase().includes(j)})),d=function(e){e.preventDefault(),t.push("?q=".concat(j))};return Object(w.jsxs)("div",{children:[Object(w.jsx)("h1",{children:"Search Screen"}),Object(w.jsx)("hr",{}),Object(w.jsxs)("div",{className:"row",children:[Object(w.jsx)("div",{className:"col-5",children:Object(w.jsxs)("form",{onSubmit:d,children:[Object(w.jsx)("input",{type:"text",placeholder:"Find your hero",className:"form-control",onChange:o,name:"name",value:j,autoComplete:"off"}),Object(w.jsx)("button",{onClick:d,className:"btn m-1 btn-block btn-outline-primary",children:"Search..."})]})}),Object(w.jsxs)("div",{className:"col-7",children:[Object(w.jsx)("h4",{children:"Results"}),Object(w.jsx)("hr",{}),""===a&&Object(w.jsx)("div",{id:"infoIni",className:"alert alert-info",children:"search a hero"}),""!==a&&0===b.length&&Object(w.jsxs)("div",{className:"alert alert-warning",children:["There is no a hero ",a,", search anoter thing"]}),b.map((function(e,t){return Object(w.jsx)(I,Object(y.a)({},e),t)}))]})]})]})},F=function(){var e=Object(c.useState)("dark"===localStorage.getItem("theme")),t=Object(i.a)(e,2),n=t[0],a=t[1];Object(c.useEffect)((function(){document.getElementsByTagName("HTML")[0].setAttribute("data-theme",localStorage.getItem("theme"))}),[!n]);return Object(w.jsx)("div",{children:Object(w.jsx)("header",{children:Object(w.jsx)("div",{className:"form-check form-switch",children:Object(w.jsx)("input",{className:"mt-3 form-check-input",type:"checkbox",role:"switch",id:"flexSwitchCheckDefault",defaultChecked:n,onChange:function(){!1===n?(localStorage.setItem("theme","dark"),a(!0)):(localStorage.setItem("theme","light"),a(!1))}})})})})},B=function(){var e=Object(r.b)(),t=Object(r.c)((function(e){return e.auth})).name;return Object(w.jsxs)("nav",{className:"navbar navbar-expand-sm navbar-dark bg-dark",children:[Object(w.jsx)(h.b,{className:"navbar-brand mx-3",to:"/",children:"StarWars"}),Object(w.jsx)("div",{className:"navbar-collapse",children:Object(w.jsxs)("div",{className:"navbar-nav",children:[Object(w.jsx)(h.c,{className:"nav-item nav-link",exact:!0,to:"/personajes",children:"Personajes"}),Object(w.jsx)(h.c,{className:"nav-item nav-link",exact:!0,to:"/search",children:"Buscar"})]})}),Object(w.jsx)("div",{className:"navbar-collapse collapse w-100 order-3 dual-collapse2",children:Object(w.jsxs)("ul",{className:"navbar-nav ms-auto",children:[Object(w.jsx)(F,{}),Object(w.jsx)("span",{className:"nav-item nav-link text-info align-self-end",children:t})]})}),Object(w.jsx)("div",{className:"navbar-collapse collapse w-200 order-3 dual-collapse2",children:Object(w.jsx)("ul",{className:"navbar-nav ms-auto",children:Object(w.jsx)("button",{className:"nav-item nav-link btn",onClick:function(){e(function(){var e=Object(m.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.auth().signOut();case 2:t(N());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:"Logout"})})})]})},L=function(){return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(B,{}),Object(w.jsx)("div",{className:"container mt-3",children:Object(w.jsxs)(u.d,{children:[Object(w.jsx)(u.b,{exact:!0,path:"/personaje/:heroeId",component:P}),Object(w.jsx)(u.b,{exact:!0,path:"/personajes",component:A}),Object(w.jsx)(u.b,{exact:!0,path:"/search",component:T}),Object(w.jsx)(u.a,{to:"/personajes"})]})})]})},q=n(30),J=["isAuthenticated","component"],R=function(e){var t=e.isAuthenticated,n=e.component,c=Object(q.a)(e,J);return localStorage.setItem("lastPath",c.location.pathname),Object(w.jsx)("div",{children:Object(w.jsx)(u.b,Object(y.a)(Object(y.a)({},c),{},{component:function(e){return t?Object(w.jsx)(n,Object(y.a)({},e)):Object(w.jsx)(u.a,{to:"/login"})}}))})},W=["isAuthenticated","component"],Y=function(e){var t=e.isAuthenticated,n=e.component,c=Object(q.a)(e,W);return Object(w.jsx)("div",{children:Object(w.jsx)(u.b,Object(y.a)(Object(y.a)({},c),{},{component:function(e){return t?Object(w.jsx)(u.a,{to:"/"}):Object(w.jsx)(n,Object(y.a)({},e))}}))})},M=function(){var e=Object(r.b)(),t=Object(c.useState)(!0),n=Object(i.a)(t,2),a=n[0],s=n[1],l=Object(c.useState)(!1),o=Object(i.a)(l,2),j=o[0],b=o[1];return Object(c.useEffect)((function(){f.a.auth().onAuthStateChanged(function(){var t=Object(m.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(null===n||void 0===n?void 0:n.uid)?(e(v(n.uid,n.displayName)),b(!0)):b(!1),s(!1);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}),[e,s,b]),a?Object(w.jsx)("h1",{children:"Wait..."}):Object(w.jsx)("div",{children:Object(w.jsx)(h.a,{children:Object(w.jsx)("div",{children:Object(w.jsx)("div",{children:Object(w.jsxs)(u.d,{children:[Object(w.jsx)(Y,{exact:!0,path:"/login",component:k,isAuthenticated:j}),Object(w.jsx)(R,{path:"/",component:L,isAuthenticated:j})]})})})})})},G=n(44),H=n(24),V="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||H.c,z=Object(H.b)({auth:j}),K=Object(H.d)(z,V(Object(H.a)(G.a))),U=(n(83),function(){var e=Object(c.useReducer)(j,{},(function(){return JSON.parse(localStorage.getItem("user"))||{logged:!1}})),t=Object(i.a)(e,1)[0];return Object(c.useEffect)((function(){localStorage.setItem("user",JSON.stringify(t))}),[t]),Object(w.jsx)("div",{children:Object(w.jsx)(r.a,{store:K,children:Object(w.jsx)(M,{})})})});s.a.render(Object(w.jsx)(U,{}),document.getElementById("root"))}},[[84,1,2]]]);
//# sourceMappingURL=main.e828d421.chunk.js.map